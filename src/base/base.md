# Базовые стили

## Модификации стилей

Для модификаций предпочтительней использовать наследование и цепочки селекторов. Общие стили — в базовых классах; особенности — в классах-модификаторах.

```scss
.btn { border-radius: $borer-radius; }
.btn.is-primary: { background: $color-background-primary-dark; }
```

## Переменные

### CSS и Sass переменные

В большинстве случаем используем Sass-переменные, так как они упрощают разработку и поддержку, обладая следующими преимуществами:

- простой синтаксис, читаемй код;
- возможность использования в Sass-функциях;
- компиляция только в значениях, а не в отдельном блоке;
- лучшие показатели в [контексте производительности](https://lisilinhart.info/posts/css-variables-performance/).

Рекомендуются для глобальных переменных, неизменяемых в медиазапросах.

С другой стороны, CSS-переменные (custom properties) удобнее для решения специфических задач.

- для значений изменяемых в медиазапросах;
- в проектах с разными цветовыми гаммами;
- для брендирования цифрового продукта под клиента;
- в случаях изменения стилей в JS: например, выбор цвета, размера, аксессуаров в онлайн-магазинах;
- для рассчета задержек в последовательной анимации.

⚠️ CSS-переменные нельзя использовать в названиях медиазапросов и счетчиках селекторов. Т. е. они не сработают в `:nth-child(var(--n))` или `@media (max-width: var(--viewport-md))`.

### Цвета

Для создания палитры, сохраняем уровнеь насыщенности и, если возможно, уровень светлости, и меняем тон основного на определенный градус.

Ориентируемся на координаты цветов на цветовом круге:

- красный: 0
- оранжевый: 30
- желтый: 60
- лайм: 90
- зеленый: 120,
- бирюзовый: 150,
- циан: 180,
- кобальт: 210,
- синий: 210,
- фиолетовый: 270,
- малиновый: 330.

Для создания светлых (tint) и темных (shade) оттенков используем функции `darken()` и `lighten()`.

```scss
$color-ink-link: darken($color-palette-blue, 13%);
```

#### Соответствие стандартам WCAG

Стараемся придерживаться стандартов AA и AAA. Но можем нарушать ради эстетики продукта, если решения не критично для UX.

### Максимальная ширина контейнеров

- Внутренние поля добавляются в mixin'е контейнера.
- Обычно задаем только одно значение — для размера LG. На меньших экранах макет растягивается на всю ширину.
- Хотя значение соответствуют максимальной ширине содержания на больших экранах, используем ключ LG, чтобы исключить превышения ширины в промежутке между LG и XL.

### Многослойность

Слои, предлагаемые [Material design](https://material.io/design/environment/elevation.html)

- Модальное окно: 24dp
- Выдвижная панель: 16dp
- FAB: 6dp
- Фиксированная «шапка» и нижняя панель навигации: 4dp
- Кнопка: 2dp
- Карточка: от 1dp до 8dp (для перетягивания)

### Анимация и переходы

- Элементы должны исчезать с экрана быстрее, чем появляться. Для этого используем свойство `transition` в обоих положениях.

    ```scss
    .el { transition: all $motion-duration-sm $motion-easing-disappearance; }
    .el.is-hidden { transition: all $motion-duration-base $motion-easing-appearance; }
    ```

- Коэффициент геометрической прогрессии при расчете переменных продолжительности — малая септима: 1.778 (9:16)
- На больших экранах следует использовать большие значения: например, SM вместо XS.

### Темная тема

#### Уровень настроек системы

```scss
@media (prefers-color-scheme: dark) {
  :root {
    --color-brand-primary-base:      #{$color-palette-blue};
    --color-brand-secondary-base:    #{$color-palette-green};
    --color-background-base:         #{$color-neutral-dark-base};
    --color-background-alt:          #{$color-neutral-dark-beta};
    --color-ink-base:                #{$color-neutral-light-max};
    --color-ink-2ry:                 #{$color-neutral-light-2ry};
  }
}
```

#### Уровень сайта/приложения

```scss
:root, [data-theme='light'] {/* светлая тема */}

[data-theme='dark'] {
  --color-brand-primary-base:        #{$color-palette-blue};
  --color-brand-secondary-base:      #{$color-palette-green};
  --color-background-base:           #{$color-neutral-dark-base};
  --color-background-alt:            var(--color-brand-primary-base-darkest);
  --color-ink-base:                  hsl(var(--color-brand-h) 15% 85%);
  --color-ink-2ry:                   hsl(var(--color-brand-h) 5% 65%);
}
```

Допускаются и вложенные темы.

```pug
html(data-theme='light')
  section(data-theme='dark')
    .component(data-theme='light')
```
